@using Blazored.LocalStorage;
@using Microsoft.EntityFrameworkCore;
@using Diplom.Shared.Model;
@using BlazorApp1.Controllers 
@inject IDbContextFactory<AppDbContext> DbFactory
@inject ILocalStorageService LocalStorage

@code {

    [Parameter]
    public string Username { get; set; }

    [Parameter]
    public string Password { get; set; }

    public User User { get; set; }

    public bool Authenticated { get; set; }

    protected override async Task OnInitializedAsync()
    {
        try
        {
            User = await LocalStorage.GetItemAsync<User>("user");
            if (User != null)
            {
                Authenticated = true;
            }
            Authenticated = false;
            return;
        }
        catch (Exception)
        {
            Authenticated = false;
            throw;
        }
    }

    public EventCallback LoginOnClick()
    {
        Authenticator authenticator = new Authenticator(DbFactory, LocalStorage);
        authenticator.Authenticate(Username, Password);
    }
}

<div class="wrapper fadeInDown">
    <div id="formContent">
        <!-- Tabs Titles -->
        <!-- Icon -->
        <div class="fadeIn first">
            <img src="http://danielzawadzki.com/codepen/01/icon.svg" id="icon" alt="User Icon" />
        </div>

        <!-- Login Form -->
        <form>
            <input type="text" id="login" class="fadeIn second" name="login" placeholder="login">
            <input type="text" id="password" class="fadeIn third" name="login" placeholder="password" >
            <input type="submit" class="fadeIn fourth" value="Log In" @onclick="LoginOnClick()">
        </form>

        <!-- Remind Passowrd -->
        <div id="formFooter">
            <a class="underlineHover" href="#">Forgot Password?</a>
        </div>

    </div>
</div>